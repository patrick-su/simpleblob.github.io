

<!doctype html>
<html lang="en" class="no-js">
  <head>
    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-83053169-1', 'auto');
      ga('send', 'pageview');
    </script>
    

<meta charset="utf-8">



<!-- begin SEO -->









<title>A random website-name generator, based on Stack Exchange forum dataset - Rarely Random</title>







<meta property="og:locale" content="en">
<meta property="og:site_name" content="Rarely Random">
<meta property="og:title" content="A random website-name generator, based on Stack Exchange forum dataset">


  <link rel="canonical" href="http://www.rarelyrandom.com/projects/www-name-generator/">
  <meta property="og:url" content="http://www.rarelyrandom.com/projects/www-name-generator/">



  <meta property="og:description" content="How to come up with non-sensical but memorable names using text mining and natural language processing (NLP).">





  

  





  <meta property="og:type" content="article">
  <meta property="article:published_time" content="2016-08-02T00:00:00+08:00">








  <script type="application/ld+json">
    {
      "@context" : "http://schema.org",
      "@type" : "Person",
      "name" : "Patrick Su",
      "url" : "http://www.rarelyrandom.com",
      "sameAs" : null
    }
  </script>






<!-- end SEO -->


<link href="/feed.xml" type="application/atom+xml" rel="alternate" title="Rarely Random Feed">

<!-- http://t.co/dKP3o1e -->
<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script>
  document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/g, '') + ' js ';
</script>

<!-- For all browsers -->
<link rel="stylesheet" href="/assets/css/main.css">

<meta http-equiv="cleartype" content="on">
    <!-- start custom head snippets -->

<!-- insert favicons. use http://realfavicongenerator.net/ -->

<!-- end custom head snippets -->
  </head>

  <body>

    <!--[if lt IE 9]>
<div class="notice--danger align-center" style="margin: 0;">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> to improve your experience.</div>
<![endif]-->
    

<div class="masthead">
  <div class="masthead__inner-wrap">
    <div class="masthead__menu">
      <nav id="site-nav" class="greedy-nav">
        <button><div class="navicon"></div></button>
        <ul class="visible-links">
          <li class="masthead__menu-item masthead__menu-item--lg"><a href="/">Rarely Random</a></li>
          
            
            <li class="masthead__menu-item"><a href="/index.html">Home</a></li>
          
            
            <li class="masthead__menu-item"><a href="/blog/">Blog/Projects</a></li>
          
        </ul>
        <ul class="hidden-links hidden"></ul>
      </nav>
    </div>
  </div>
</div>

    





<div id="main" role="main">
  


  <div class="sidebar sticky">
  



<div itemscope itemtype="http://schema.org/Person">

  <div class="author__avatar">
    
    	<img src="/images/bio-photo.jpg" class="author__avatar" alt="Patrick Suwanvithaya">
    
  </div>

  <div class="author__content">
    <h3 class="author__name">Patrick Suwanvithaya</h3>
    <p class="author__bio">sifting signal from noise</p>
  </div>

  <div class="author__urls-wrapper">
    <button class="btn btn--inverse">Follow</button>
    <ul class="author__urls social-icons">
      
        <li><i class="fa fa-fw fa-map-marker" aria-hidden="true"></i> Singapore</li>
      
      
      
      
      
      
      
      
        <li><a href="https://www.linkedin.com/in/piyawat-patrick-suwanvithaya-149a888"><i class="fa fa-fw fa-linkedin-square" aria-hidden="true"></i> LinkedIn</a></li>
      
      
      
      
      
      
        <li><a href="https://github.com/simpleblob"><i class="fa fa-fw fa-github" aria-hidden="true"></i> Github</a></li>
      
      
      
      
      
      
      
      
      
      
      
      
      
    </ul>
  </div>
</div>

  
  </div>


  <article class="page" itemscope itemtype="http://schema.org/CreativeWork">
    <meta itemprop="headline" content="A random website-name generator, based on Stack Exchange forum dataset">
    <meta itemprop="description" content="How to come up with non-sensical but memorable names using text mining and natural language processing (NLP).">
    <meta itemprop="datePublished" content="August 02, 2016">
    

    <div class="page__inner-wrap">
      
        <header>
          <h1 class="page__title" itemprop="headline">A random website-name generator, based on Stack Exchange forum dataset
</h1>
          
            <p class="page__meta"><i class="fa fa-clock-o" aria-hidden="true"></i> 


  
	  19 minute read
	
</p>
          
        </header>
      

      <section class="page__content" itemprop="text">
        <p>After deciding that I should own a personal website, the first thing I did (and probably anyone else) was to think about the naming – What should I call it? The name should sound nice and be memorable.</p>

<p>Since my goal for this website is to write about all things related to data science, data analytics, data mining, and statistics, etc… it should be an interesting idea to find the name based on text dataset.</p>

<p>I forum dataset I chose was a Q&amp;A forum called <a href="http://stats.stackexchange.com/"><strong>“Cross Validated”</strong></a>, dedicated to answering any statistics or data science related questions. It has been around a long time so we should have many posts to analyze.</p>

<p>The dataset can be found at <a href="https://archive.org/details/stackexchange">archive.org</a>. The main file <a href="https://archive.org/download/stackexchange/stats.stackexchange.com.7z">(stats.stackexchange.com.7z)</a> is around 180MB zipped and contains various information of the forum such as posts, comments, users, and votes. The data are captured from 2014 up to Jun 2016, so around 2.5 years.</p>

<p>I decided to use posts file <strong>(“crossvalidated.posts.xml”)</strong> as our base data.</p>

<p>Let’s import all the libaries and files:</p>

<div class="language-python highlighter-rouge"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">numpy</span> <span class="kn">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="kn">as</span> <span class="nn">pd</span>
<span class="kn">from</span> <span class="nn">pandas</span> <span class="kn">import</span> <span class="n">Series</span><span class="p">,</span> <span class="n">DataFrame</span>

<span class="kn">import</span> <span class="nn">seaborn</span> <span class="kn">as</span> <span class="nn">sns</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="kn">as</span> <span class="nn">plt</span>
<span class="o">%</span><span class="n">matplotlib</span> <span class="n">inline</span>

<span class="kn">import</span> <span class="nn">math</span>
<span class="kn">import</span> <span class="nn">random</span> <span class="kn">as</span> <span class="nn">rd</span>

<span class="kn">from</span> <span class="nn">__future__</span> <span class="kn">import</span> <span class="n">division</span>  <span class="c"># Python 2 users only</span>
<span class="kn">import</span> <span class="nn">nltk</span><span class="o">,</span> <span class="nn">re</span><span class="o">,</span> <span class="nn">pprint</span>
<span class="kn">from</span> <span class="nn">nltk</span> <span class="kn">import</span> <span class="n">word_tokenize</span>
<span class="kn">from</span> <span class="nn">collections</span> <span class="kn">import</span> <span class="n">Counter</span>
</code></pre>
</div>

<p>Here I use <em>lxml</em> to extract xml-type data into the <strong>df</strong> Dataframe.</p>

<div class="language-python highlighter-rouge"><pre class="highlight"><code><span class="c"># Original Source:</span>
<span class="c"># https://archive.org/details/stackexchange</span>
<span class="c"># https://archive.org/download/stackexchange/datascience.stackexchange.com.7z</span>
<span class="c"># https://archive.org/download/stackexchange/stats.stackexchange.com.7z</span>
<span class="c"># stackexchange discussion forum dataset -- for 'data science' and 'cross validated' sub-section</span>

<span class="kn">from</span> <span class="nn">lxml</span> <span class="kn">import</span> <span class="n">objectify</span>

<span class="n">path</span> <span class="o">=</span> <span class="s">'crossvalidated.posts.xml'</span>
<span class="n">xml</span> <span class="o">=</span> <span class="n">objectify</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="nb">open</span><span class="p">(</span><span class="n">path</span><span class="p">))</span>
<span class="n">attribs</span> <span class="o">=</span> <span class="p">[</span><span class="nb">dict</span><span class="p">(</span><span class="n">r</span><span class="o">.</span><span class="n">attrib</span><span class="p">)</span> <span class="k">for</span> <span class="n">r</span> <span class="ow">in</span> <span class="n">xml</span><span class="o">.</span><span class="n">getroot</span><span class="p">()</span><span class="o">.</span><span class="n">getchildren</span><span class="p">()]</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="o">.</span><span class="n">from_records</span><span class="p">(</span><span class="n">attribs</span><span class="p">)</span>
</code></pre>
</div>

<p>Let’s have a glimpse at the dataset.
It contains roughly 160,000 posts with 21 columns (or features), the main text is in the “Body” column.</p>

<div class="language-python highlighter-rouge"><pre class="highlight"><code><span class="c"># the data looks like this.</span>
<span class="k">print</span> <span class="n">df</span><span class="o">.</span><span class="n">shape</span>
<span class="n">df</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span><span class="o">.</span><span class="n">T</span>
</code></pre>
</div>

<div class="highlighter-rouge"><pre class="highlight"><code>(163205, 21)
</code></pre>
</div>

<div>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>0</th>
      <th>1</th>
      <th>2</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>AcceptedAnswerId</th>
      <td>15</td>
      <td>59</td>
      <td>5</td>
    </tr>
    <tr>
      <th>AnswerCount</th>
      <td>5</td>
      <td>7</td>
      <td>19</td>
    </tr>
    <tr>
      <th>Body</th>
      <td>&lt;p&gt;How should I elicit prior distributions fro...</td>
      <td>&lt;p&gt;In many different statistical methods there...</td>
      <td>&lt;p&gt;What are some valuable Statistical Analysis...</td>
    </tr>
    <tr>
      <th>ClosedDate</th>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>CommentCount</th>
      <td>1</td>
      <td>1</td>
      <td>4</td>
    </tr>
    <tr>
      <th>CommunityOwnedDate</th>
      <td>NaN</td>
      <td>NaN</td>
      <td>2010-07-19T19:13:28.577</td>
    </tr>
    <tr>
      <th>CreationDate</th>
      <td>2010-07-19T19:12:12.510</td>
      <td>2010-07-19T19:12:57.157</td>
      <td>2010-07-19T19:13:28.577</td>
    </tr>
    <tr>
      <th>FavoriteCount</th>
      <td>20</td>
      <td>10</td>
      <td>39</td>
    </tr>
    <tr>
      <th>Id</th>
      <td>1</td>
      <td>2</td>
      <td>3</td>
    </tr>
    <tr>
      <th>LastActivityDate</th>
      <td>2010-09-15T21:08:26.077</td>
      <td>2012-11-12T09:21:54.993</td>
      <td>2013-05-27T14:48:36.927</td>
    </tr>
    <tr>
      <th>LastEditDate</th>
      <td>NaN</td>
      <td>2010-08-07T17:56:44.800</td>
      <td>2011-02-12T05:50:03.667</td>
    </tr>
    <tr>
      <th>LastEditorDisplayName</th>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>LastEditorUserId</th>
      <td>NaN</td>
      <td>88</td>
      <td>183</td>
    </tr>
    <tr>
      <th>OwnerDisplayName</th>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>OwnerUserId</th>
      <td>8</td>
      <td>24</td>
      <td>18</td>
    </tr>
    <tr>
      <th>ParentId</th>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>PostTypeId</th>
      <td>1</td>
      <td>1</td>
      <td>1</td>
    </tr>
    <tr>
      <th>Score</th>
      <td>31</td>
      <td>27</td>
      <td>63</td>
    </tr>
    <tr>
      <th>Tags</th>
      <td>&lt;bayesian&gt;&lt;prior&gt;&lt;elicitation&gt;</td>
      <td>&lt;distributions&gt;&lt;normality&gt;</td>
      <td>&lt;software&gt;&lt;open-source&gt;</td>
    </tr>
    <tr>
      <th>Title</th>
      <td>Eliciting priors from experts</td>
      <td>What is normality?</td>
      <td>What are some valuable Statistical Analysis op...</td>
    </tr>
    <tr>
      <th>ViewCount</th>
      <td>1970</td>
      <td>17285</td>
      <td>5334</td>
    </tr>
  </tbody>
</table>
</div>

<p>I think we have plenty of datapoints. In fact, it is a bit too many for my use.</p>

<p>I decided to cut down by extract the <em>“Body”</em> from just 2015 onwards (1.5 years), so that we also have more recent samples. we will have about 65,000 posts.</p>

<p>I joined all the post bodies together into one string variable called <strong>raw</strong>.</p>

<div class="language-python highlighter-rouge"><pre class="highlight"><code><span class="k">print</span> <span class="n">df</span><span class="o">.</span><span class="n">Body</span><span class="p">[</span><span class="n">df</span><span class="o">.</span><span class="n">CreationDate</span><span class="o">&gt;=</span><span class="s">'2015-01-01'</span><span class="p">]</span><span class="o">.</span><span class="n">shape</span>
<span class="c"># get from 2015-01-01 onwards, so that we get the most recent topics/words</span>
<span class="n">raw</span> <span class="o">=</span> <span class="s">' '</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="o">.</span><span class="n">CreationDate</span><span class="o">&gt;=</span><span class="s">'2015-01-01'</span><span class="p">][</span><span class="s">'Body'</span><span class="p">]</span><span class="o">.</span><span class="n">values</span><span class="p">)</span>
<span class="k">print</span> <span class="s">'raw excerpts - first 1000 characters'</span>
<span class="k">print</span> <span class="n">raw</span><span class="p">[:</span><span class="mi">1000</span><span class="p">]</span>
</code></pre>
</div>

<div class="highlighter-rouge"><pre class="highlight"><code>(64820,)
raw excerpts - first 1000 characters
&lt;p&gt;The variance of the error term decreases (or, at worst, does not increase) when you add more regressors.
The reason is that a new variable can explain some more variability in the data that wasn't explained by previous regressors. This will reduce the unexplained variations in the data, whch will cause the variance of the error term to decrease.&lt;/p&gt;
 &lt;p&gt;Suppose $A$ is a very small subset of $\{0,\dots,n\}^3$ and I am trying to find an element of $A$. I first inspect maybe 50 random triples $(x_i,y_i,z_i), 1\le i\le 50$, and find that none of them are in $A$.&lt;/p&gt;

&lt;p&gt;Undeterred, I notice that the triple $(x_{17},y_{17},z_{17})$ (say) looks promising in some sense, and in particular it looks promising because of the presence of $x_{17}$ and $z_{17}$ (say).&lt;/p&gt;

&lt;p&gt;So I proceed to inspect triples of the form
$$(x_{17},y,z_{17}),\quad y\in\{0,\dots,n\}.$$
After trying maybe 8 different randomly chosen $y$-values I finally find an element of $A$.&lt;/p&gt;

&lt;p&gt;Question:&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;
</code></pre>
</div>

<p>As expected, this is a raw HTML text. We need to clean this.</p>

<p>My favorite tool , RegEx.</p>

<div class="language-python highlighter-rouge"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">string</span>

<span class="n">re1</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="nb">compile</span><span class="p">(</span><span class="s">'&lt;[^&gt;]*&gt;&gt;'</span><span class="p">)</span> <span class="c"># remove html tags</span>
<span class="n">re2</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="nb">compile</span><span class="p">(</span><span class="s">'[0-9]+'</span><span class="p">)</span> <span class="c"># remove numbers</span>
<span class="n">re3</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="nb">compile</span><span class="p">(</span><span class="s">'</span><span class="se">\t</span><span class="s">|</span><span class="se">\n</span><span class="s">'</span><span class="p">)</span> <span class="c"># remove newlines</span>
<span class="n">regex</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="nb">compile</span><span class="p">(</span><span class="s">'[</span><span class="si">%</span><span class="s">s]'</span> <span class="o">%</span> <span class="n">re</span><span class="o">.</span><span class="n">escape</span><span class="p">(</span><span class="n">string</span><span class="o">.</span><span class="n">punctuation</span><span class="p">))</span> <span class="c"># remove punctuations</span>
<span class="n">raw</span> <span class="o">=</span> <span class="n">re3</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="s">' '</span><span class="p">,</span><span class="n">re2</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="s">' '</span><span class="p">,</span><span class="n">re1</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="s">' '</span><span class="p">,</span><span class="n">raw</span><span class="p">)))</span>
<span class="n">raw_clean</span> <span class="o">=</span> <span class="n">regex</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="s">' '</span><span class="p">,</span><span class="n">raw</span><span class="p">)</span>
</code></pre>
</div>

<div class="language-python highlighter-rouge"><pre class="highlight"><code><span class="k">print</span> <span class="n">raw_clean</span><span class="p">[:</span><span class="mi">1000</span><span class="p">]</span>
</code></pre>
</div>

<div class="highlighter-rouge"><pre class="highlight"><code>The variance of the error term decreases  or  at worst  does not increase  when you add more regressors The reason is that a new variable can explain some more variability in the data that wasn t explained by previous regressors  This will reduce the unexplained variations in the data  whch will cause the variance of the error term to decrease  Suppose  A  is a very small subset of      dots n     and I am trying to find an element of  A   I first inspect maybe  random triples   x i y i z i    le i le    and find that none of them are in  A  Undeterred  I notice that the triple   x    y    z       say  looks promising in some sense  and in particular it looks promising because of the presence of  x     and  z      say  So I proceed to inspect triples of the form   x    y z      quad y in    dots n     After trying maybe  different randomly chosen  y  values I finally find an element of  A  Question  blockquote   This method seems to make sense in practice  but how do I put it into cont
</code></pre>
</div>

<p>Now that we have properly spaced dataset, we can tokenize the words. I will use <a href="http://www.nltk.org/"><em>NLTK</em></a> (natural language toolkit) library here. It is a fantastic library for text analysis, but from what I read on the web, the performance is a bit slow and they take some time to add cutting-edge algorithms.</p>

<p>Nevertheless, I’m not an advanced user yet so I don’t care.</p>

<div class="language-python highlighter-rouge"><pre class="highlight"><code><span class="n">tokens</span> <span class="o">=</span> <span class="n">word_tokenize</span><span class="p">(</span><span class="n">raw_clean</span><span class="o">.</span><span class="n">lower</span><span class="p">())</span>
</code></pre>
</div>

<p>Here we are going to remove all the common words ( ‘to’, ‘a’, ‘the’, .. ) in English and also the one-character only tokens.</p>

<div class="language-python highlighter-rouge"><pre class="highlight"><code><span class="kn">from</span> <span class="nn">nltk.corpus</span> <span class="kn">import</span> <span class="n">stopwords</span>
<span class="n">stop</span> <span class="o">=</span> <span class="n">stopwords</span><span class="o">.</span><span class="n">words</span><span class="p">(</span><span class="s">'english'</span><span class="p">)</span>
<span class="c">#remove the stopwords and one-character tokens</span>
<span class="n">tokens</span> <span class="o">=</span> <span class="p">[</span><span class="n">w</span> <span class="k">for</span> <span class="n">w</span> <span class="ow">in</span> <span class="n">tokens</span> <span class="k">if</span> <span class="p">((</span><span class="n">w</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">stop</span><span class="p">)</span> <span class="ow">and</span> <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">w</span><span class="p">)</span><span class="o">&gt;</span><span class="mi">1</span><span class="p">))]</span>

</code></pre>
</div>

<p>Let’s see the result, 10 most common words in the dataset:</p>

<div class="language-python highlighter-rouge"><pre class="highlight"><code><span class="k">print</span> <span class="s">'most common tokens'</span>
<span class="n">count</span> <span class="o">=</span> <span class="n">Counter</span><span class="p">(</span><span class="n">tokens</span><span class="p">)</span>
<span class="n">count</span><span class="o">.</span><span class="n">most_common</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
</code></pre>
</div>

<div class="highlighter-rouge"><pre class="highlight"><code>most common tokens





[(u'data', 58301),
 (u'model', 46831),
 (u'would', 35819),
 (u'one', 31463),
 (u'lt', 29956),
 (u'use', 26962),
 (u'using', 25861),
 (u'test', 24249),
 (u'distribution', 23077),
 (u'two', 22069)]
</code></pre>
</div>

<p>Not surprising, in the top 10 we see ‘data’ , ‘model’ , and ‘distribution’.</p>

<p>Next, I feel that the processing time is a bit slow, so let’s down-sample the tokens from 5.5 Mil to 200K word count only. We will also remove the too-short (2 characters) or too-long (10+ charactoers) of a word.</p>

<p>Then see the most common ones again:</p>

<div class="language-python highlighter-rouge"><pre class="highlight"><code><span class="c"># down-sampling to 200k words</span>
<span class="k">print</span> <span class="s">'number of tokens: '</span><span class="p">,</span><span class="nb">len</span><span class="p">(</span><span class="n">tokens</span><span class="p">)</span>
<span class="n">sampled_tokens</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span><span class="o">*</span><span class="mi">10</span><span class="o">**</span><span class="mi">5</span><span class="p">):</span>
    <span class="n">w</span> <span class="o">=</span> <span class="n">tokens</span><span class="p">[</span><span class="n">rd</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="nb">len</span><span class="p">(</span><span class="n">tokens</span><span class="p">)</span><span class="o">-</span><span class="mi">1</span><span class="p">)]</span>
    <span class="k">while</span> <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">w</span><span class="p">)</span><span class="o">&lt;</span><span class="mi">3</span> <span class="ow">or</span> <span class="nb">len</span><span class="p">(</span><span class="n">w</span><span class="p">)</span><span class="o">&gt;</span><span class="mi">10</span><span class="p">):</span> <span class="c"># get short, simple words</span>
        <span class="n">w</span> <span class="o">=</span> <span class="n">tokens</span><span class="p">[</span><span class="n">rd</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="nb">len</span><span class="p">(</span><span class="n">tokens</span><span class="p">)</span><span class="o">-</span><span class="mi">1</span><span class="p">)]</span>
    <span class="n">sampled_tokens</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">w</span><span class="p">)</span>

<span class="k">print</span> <span class="s">'number of sampled tokens: '</span><span class="p">,</span><span class="nb">len</span><span class="p">(</span><span class="n">sampled_tokens</span><span class="p">)</span>
<span class="n">count_sampled</span> <span class="o">=</span> <span class="n">Counter</span><span class="p">(</span><span class="n">sampled_tokens</span><span class="p">)</span>
<span class="n">count_sampled</span><span class="o">.</span><span class="n">most_common</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
</code></pre>
</div>

<div class="highlighter-rouge"><pre class="highlight"><code>number of tokens:  5524393
number of sampled tokens:  200000





[(u'data', 2479),
 (u'model', 2039),
 (u'would', 1550),
 (u'one', 1418),
 (u'use', 1190),
 (u'using', 1116),
 (u'test', 1038),
 (u'variables', 992),
 (u'codepre', 974),
 (u'two', 953)]
</code></pre>
</div>

<p>To help us do further analysis, we can tag the word as different grammar-type: pronouns, adjectives, etc.</p>

<p>The default <em>pos_tag()</em> function is unbearably slow, we are going to do manual looping ourselves.</p>

<div class="language-python highlighter-rouge"><pre class="highlight"><code><span class="c"># nltk.help.upenn_tagset()</span>
<span class="c"># using pos_tag() is cumbersome and incredibly slow, so we just use the tagger itself</span>
<span class="kn">from</span> <span class="nn">nltk.tag.perceptron</span> <span class="kn">import</span> <span class="n">PerceptronTagger</span>
<span class="kn">from</span> <span class="nn">nltk.tag</span> <span class="kn">import</span> <span class="n">map_tag</span>
<span class="n">tagger</span> <span class="o">=</span> <span class="n">PerceptronTagger</span><span class="p">()</span>
<span class="o">%</span><span class="n">time</span> <span class="n">tagged</span> <span class="o">=</span> <span class="n">tagger</span><span class="o">.</span><span class="n">tag</span><span class="p">(</span><span class="n">sampled_tokens</span><span class="p">)</span>
<span class="c">#%time tagged = [tagger.tag(w) for w in sampled_tokens]</span>
<span class="o">%</span><span class="n">time</span> <span class="n">tagged</span> <span class="o">=</span> <span class="p">[(</span><span class="n">word</span><span class="p">,</span><span class="n">map_tag</span><span class="p">(</span><span class="s">'en-ptb'</span><span class="p">,</span> <span class="s">'universal'</span><span class="p">,</span><span class="n">pos</span><span class="p">))</span> <span class="k">for</span> <span class="p">(</span><span class="n">word</span><span class="p">,</span><span class="n">pos</span><span class="p">)</span> <span class="ow">in</span> <span class="n">tagged</span><span class="p">]</span>
</code></pre>
</div>

<div class="highlighter-rouge"><pre class="highlight"><code>CPU times: user 30.6 s, sys: 595 ms, total: 31.2 s
Wall time: 30.9 s
CPU times: user 605 ms, sys: 70.7 ms, total: 676 ms
Wall time: 630 ms
</code></pre>
</div>

<p>Done, let’s see the result:</p>

<div class="language-python highlighter-rouge"><pre class="highlight"><code><span class="k">print</span> <span class="s">'a glimpse of simplified tags'</span>
<span class="k">print</span> <span class="n">tagged</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">10</span><span class="p">]</span>
</code></pre>
</div>

<div class="highlighter-rouge"><pre class="highlight"><code>a glimpse of simplified tags
[(u'change', u'NOUN'), (u'estimate', u'NOUN'), (u'codepre', u'NOUN'), (u'none', u'NOUN'), (u'trees', u'NOUN'), (u'differences', u'NOUN'), (u'option', u'NOUN'), (u'want', u'VERB'), (u'information', u'NOUN'), (u'cell', u'NOUN')]
</code></pre>
</div>

<p>What is the frequency for each tag?</p>

<p>We can plot a nice graph. About 50% of the words are nouns, 25% are verbs, and 20% are adjectives.</p>

<div class="language-python highlighter-rouge"><pre class="highlight"><code><span class="n">fd_tag</span> <span class="o">=</span> <span class="n">nltk</span><span class="o">.</span><span class="n">FreqDist</span><span class="p">(</span><span class="n">tag</span> <span class="k">for</span> <span class="p">(</span><span class="n">word</span><span class="p">,</span> <span class="n">tag</span><span class="p">)</span> <span class="ow">in</span> <span class="n">tagged</span><span class="p">)</span>
<span class="n">fd_tag</span><span class="o">.</span><span class="n">tabulate</span><span class="p">()</span>
<span class="n">fd_tag</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">cumulative</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
</code></pre>
</div>

<div class="highlighter-rouge"><pre class="highlight"><code> NOUN  VERB   ADJ   ADV   ADP   NUM   DET     X  CONJ  PRON   PRT
93850 44929 41640 11539  3802  2906   530   330   197   174   103
</code></pre>
</div>

<p><img src="/images/2016-08-02-www-name-generator/output_11_1.png" alt="png" /></p>

<p>And now we can try to generate a randomized set of names and phrases.
First we try ADJ + NOUN, 6 to 13 letters.</p>

<div class="language-python highlighter-rouge"><pre class="highlight"><code><span class="n">lnoun</span> <span class="o">=</span> <span class="p">[</span><span class="n">w</span> <span class="k">for</span> <span class="p">(</span><span class="n">w</span><span class="p">,</span><span class="n">t</span><span class="p">)</span> <span class="ow">in</span> <span class="n">tagged</span> <span class="k">if</span> <span class="p">(</span><span class="n">t</span> <span class="o">==</span> <span class="s">'NOUN'</span><span class="p">)]</span>
<span class="n">ladj</span> <span class="o">=</span> <span class="p">[</span><span class="n">w</span> <span class="k">for</span> <span class="p">(</span><span class="n">w</span><span class="p">,</span><span class="n">t</span><span class="p">)</span> <span class="ow">in</span> <span class="n">tagged</span> <span class="k">if</span> <span class="p">(</span><span class="n">t</span> <span class="o">==</span> <span class="s">'ADJ'</span><span class="p">)]</span>
<span class="n">ladv</span> <span class="o">=</span> <span class="p">[</span><span class="n">w</span> <span class="k">for</span> <span class="p">(</span><span class="n">w</span><span class="p">,</span><span class="n">t</span><span class="p">)</span> <span class="ow">in</span> <span class="n">tagged</span> <span class="k">if</span> <span class="p">(</span><span class="n">t</span> <span class="o">==</span> <span class="s">'ADV'</span><span class="p">)]</span>
<span class="n">lverb</span> <span class="o">=</span> <span class="p">[</span><span class="n">w</span> <span class="k">for</span> <span class="p">(</span><span class="n">w</span><span class="p">,</span><span class="n">t</span><span class="p">)</span> <span class="ow">in</span> <span class="n">tagged</span> <span class="k">if</span> <span class="p">(</span><span class="n">t</span> <span class="o">==</span> <span class="s">'VERB'</span><span class="p">)]</span>
</code></pre>
</div>

<div class="language-python highlighter-rouge"><pre class="highlight"><code><span class="c"># let's do a random sampling of ADJ + NOUN. maybe a good idea for website</span>
<span class="c"># keep the whole phrase short -- 6 to 13 letters. Ideally 8.</span>
<span class="n">i</span> <span class="o">=</span> <span class="mi">0</span>
<span class="k">while</span> <span class="n">i</span><span class="o">&lt;</span><span class="mi">12</span><span class="p">:</span>
    <span class="n">phrase</span> <span class="o">=</span>  <span class="n">rd</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="n">ladj</span><span class="p">)</span> <span class="o">+</span> <span class="n">rd</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="n">lnoun</span><span class="p">)</span>
    <span class="k">if</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">phrase</span><span class="p">)</span><span class="o">&gt;=</span><span class="mi">6</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">phrase</span><span class="p">)</span><span class="o">&lt;=</span><span class="mi">13</span><span class="p">):</span>
        <span class="k">print</span> <span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span> <span class="n">phrase</span>
        <span class="n">i</span> <span class="o">=</span> <span class="n">i</span> <span class="o">+</span> <span class="mi">1</span>
</code></pre>
</div>

<div class="highlighter-rouge"><pre class="highlight"><code>1 gammatextfai
2 singledata
3 mutualthank
4 contextbsc
5 nulllithe
6 addfishers
7 highend
8 similarphase
9 symmetricnote
10 numerictime
11 stanway
12 possiblewrap
</code></pre>
</div>

<p>Then ADV + ADJ:</p>

<div class="language-python highlighter-rouge"><pre class="highlight"><code><span class="c"># howabout ADV + ADJ</span>
<span class="n">i</span> <span class="o">=</span> <span class="mi">0</span>
<span class="k">while</span> <span class="n">i</span><span class="o">&lt;</span><span class="mi">12</span><span class="p">:</span>
    <span class="n">phrase</span> <span class="o">=</span> <span class="n">rd</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="n">ladv</span><span class="p">)</span> <span class="o">+</span> <span class="n">rd</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="n">ladj</span><span class="p">)</span>
    <span class="k">if</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">phrase</span><span class="p">)</span><span class="o">&gt;=</span><span class="mi">6</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">phrase</span><span class="p">)</span><span class="o">&lt;=</span><span class="mi">13</span><span class="p">):</span>
        <span class="k">print</span> <span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span> <span class="n">phrase</span>
        <span class="n">i</span> <span class="o">=</span> <span class="n">i</span> <span class="o">+</span> <span class="mi">1</span>
</code></pre>
</div>

<div class="highlighter-rouge"><pre class="highlight"><code>1 spsschange
2 ageqtileiid
3 sometimesnet
4 quitegeneral
5 roughlytoy
6 providedont
7 howeverpapera
8 probablynew
9 farwhole
10 alonesimilar
11 samplenew
12 addfinite
</code></pre>
</div>

<p>Another combination… VERB + NOUN</p>

<div class="language-python highlighter-rouge"><pre class="highlight"><code><span class="c"># say... VERB + NOUN</span>
<span class="n">i</span> <span class="o">=</span> <span class="mi">0</span>
<span class="k">while</span> <span class="n">i</span><span class="o">&lt;</span><span class="mi">12</span><span class="p">:</span>
    <span class="n">phrase</span> <span class="o">=</span> <span class="n">rd</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="n">lverb</span><span class="p">)</span> <span class="o">+</span> <span class="n">rd</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="n">lnoun</span><span class="p">)</span>
    <span class="k">if</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">phrase</span><span class="p">)</span><span class="o">&gt;=</span><span class="mi">6</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">phrase</span><span class="p">)</span><span class="o">&lt;=</span><span class="mi">13</span><span class="p">):</span>
        <span class="k">print</span> <span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span> <span class="n">phrase</span>
        <span class="n">i</span> <span class="o">=</span> <span class="n">i</span> <span class="o">+</span> <span class="mi">1</span>
</code></pre>
</div>

<div class="highlighter-rouge"><pre class="highlight"><code>1 mildvalues
2 formulatesize
3 followssis
4 wouldidentify
5 xijmodel
6 seemservice
7 takenmethod
8 guessrequire
9 usingakstrong
10 pairedparts
11 getsize
12 pvaluesmethod
</code></pre>
</div>

<p>Try generating longer names:</p>

<div class="language-python highlighter-rouge"><pre class="highlight"><code><span class="c"># VERB + NOUN + NOUN. seems too long</span>
<span class="n">i</span> <span class="o">=</span> <span class="mi">0</span>
<span class="k">while</span> <span class="n">i</span><span class="o">&lt;</span><span class="mi">12</span><span class="p">:</span>
    <span class="n">w1</span> <span class="o">=</span> <span class="n">rd</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="n">ladv</span><span class="p">)</span>
    <span class="n">w2</span> <span class="o">=</span> <span class="n">rd</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="n">ladj</span><span class="p">)</span>
    <span class="n">w3</span> <span class="o">=</span> <span class="n">rd</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="n">lnoun</span><span class="p">)</span>
    <span class="n">phrase</span> <span class="o">=</span>  <span class="n">w1</span> <span class="o">+</span> <span class="n">w2</span> <span class="o">+</span> <span class="n">w3</span>
    <span class="k">if</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">phrase</span><span class="p">)</span><span class="o">&gt;=</span><span class="mi">6</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">phrase</span><span class="p">)</span><span class="o">&lt;=</span><span class="mi">15</span><span class="p">):</span>
        <span class="k">print</span> <span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span> <span class="n">phrase</span>
        <span class="n">i</span> <span class="o">=</span> <span class="n">i</span> <span class="o">+</span> <span class="mi">1</span>
</code></pre>
</div>

<div class="highlighter-rouge"><pre class="highlight"><code>1 evenrelatedtell
2 welllowstate
3 yjtdontmodel
4 alsolargeknock
5 farwincreosote
6 amnildlldlshelp
7 errorlargemodel
8 wellfalsecfirm
9 directlylequse
10 firstwrongrbm
11 possiblystepetr
12 yetrightclass
</code></pre>
</div>

<p>I played with it for a while and came up with something like below.</p>

<p>Forcing both first and second words to start with the same first letter. This makes the phrase more catchy.</p>

<div class="language-python highlighter-rouge"><pre class="highlight"><code><span class="c"># (ADV or ADJ or NOUN) + (VERB or NOUN). And both words have the same first letter!</span>
<span class="n">i</span> <span class="o">=</span> <span class="mi">0</span>
<span class="k">while</span> <span class="n">i</span><span class="o">&lt;</span><span class="mi">12</span><span class="p">:</span>
    <span class="n">w1</span> <span class="o">=</span> <span class="n">rd</span><span class="o">.</span><span class="n">choice</span><span class="p">([</span><span class="n">rd</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="n">ladv</span><span class="p">),</span><span class="n">rd</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="n">ladj</span><span class="p">),</span><span class="n">rd</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="n">lnoun</span><span class="p">)])</span>
    <span class="n">w2</span> <span class="o">=</span> <span class="n">rd</span><span class="o">.</span><span class="n">choice</span><span class="p">([</span><span class="n">rd</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="n">lverb</span><span class="p">),</span><span class="n">rd</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="n">lnoun</span><span class="p">)])</span>
    <span class="n">phrase</span> <span class="o">=</span>  <span class="n">w1</span> <span class="o">+</span> <span class="n">w2</span>
    <span class="k">if</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">phrase</span><span class="p">)</span><span class="o">&gt;=</span><span class="mi">6</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">phrase</span><span class="p">)</span><span class="o">&lt;=</span><span class="mi">13</span> <span class="ow">and</span> <span class="n">w1</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="n">w2</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="ow">and</span> <span class="n">w1</span> <span class="o">!=</span> <span class="n">w2</span><span class="p">):</span>
        <span class="k">print</span> <span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span> <span class="n">phrase</span>
        <span class="n">i</span> <span class="o">=</span> <span class="n">i</span> <span class="o">+</span> <span class="mi">1</span>
</code></pre>
</div>

<div class="highlighter-rouge"><pre class="highlight"><code>1 termstraining
2 secondset
3 alreadyarrp
4 perfectlyputs
5 countcant
6 modelmultiple
7 randomreading
8 powerpaper
9 statsvm
10 easyestimate
11 rightrandom
12 mondaymatrix
</code></pre>
</div>

<p>After running that repeatedly for quite a few times, here are the generated names that make sense (to human) and could be used:</p>

<blockquote>
  <p>rarelyrandom, properlyplot, oddoutcome, fitfeatures, barelybiased, binarybunch, mostlyanalog, thereforetest, alsoassumed, methodmissing, leastlinear, reportreality, returnrandom, explainerror, ratherright, gaussianguess, ideaincluded.</p>
</blockquote>

<p>In the end, I picked <em>“Rarely Random”</em> because it’s ironic. The name actually came from mostly random process. (with a few defined rules per above)</p>

<p>Yeah, that, and also my girlfriend likes it the most.</p>

<p>Thank you for reading!</p>

        
      </section>

      <footer class="page__meta">
        
        




  






  
  
  

  <p class="page__taxonomy">
    <strong><i class="fa fa-fw fa-folder-open" aria-hidden="true"></i> Categories: </strong>
    <span itemprop="keywords">
    
      
      
      <a href="/categories/#projects" class="page__taxonomy-item" rel="tag">Projects</a>
    
    </span>
  </p>


        
          <p class="page__date"><strong><i class="fa fa-fw fa-calendar" aria-hidden="true"></i> Updated:</strong> <time datetime="2016-08-02T00:00:00+08:00">August 02, 2016</time></p>
        
      </footer>

      

      


  <nav class="pagination">
    
      <a href="/projects/countries-export-visualized-using-d3.js/" class="pagination--pager" title="Visualizing country’s export using python and d3.js
">Previous</a>
    
    
      <a href="/projects/ml-algorithm-stepbystep/" class="pagination--pager" title="Machine learning algorithms – step by step
">Next</a>
    
  </nav>

    </div>

    
  </article>

  
  
</div>

    <div class="page__footer">
      <footer>
        <!-- start custom footer snippets -->

<!-- end custom footer snippets -->
        

<div class="page__footer-follow">
  <ul class="social-icons">
    
      <li><strong>Follow:</strong></li>
    
    
    
    
      <li><a href="http://github.com/simpleblob"><i class="fa fa-fw fa-github" aria-hidden="true"></i> GitHub</a></li>
    
    
    <li><a href="/feed.xml"><i class="fa fa-fw fa-rss-square" aria-hidden="true"></i> Feed</a></li>
  </ul>
</div>

<div class="page__footer-copyright">&copy; 2016 Patrick Su. Powered by <a href="http://jekyllrb.com" rel="nofollow">Jekyll</a> &amp; <a href="https://mademistakes.com/work/minimal-mistakes-jekyll-theme/" rel="nofollow">Minimal Mistakes</a>.</div>
      </footer>
    </div>

    <script src="/assets/js/main.min.js"></script>





  </body>
</html>

